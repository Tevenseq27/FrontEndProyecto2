@model IEnumerable<Presentacion.Models.RutaModel>

@{
    ViewData["Title"] = "Consulta";
}

<script runat="server">
protected void Execute_Clicked(object sender, EventArgs e)
        {
            System.Data.SqlClient.SqlConnection objConn = new System.Data.SqlClient.SqlConnection();
            objConn.ConnectionString = "server=SSEQUIERA_HIO03; database=Proyecto2_SistemaRuteo; uid=sa; pwd=masterkey;";
            objConn.Open();
            System.Data.SqlClient.SqlCommand objCmd = new System.Data.SqlClient.SqlCommand("SpListarRuta", objConn);
            objCmd.CommandType = System.Data.CommandType.StoredProcedure;
            GridView1.DataSource = objCmd.ExecuteReader();
            GridView1.DataBind();
            objConn.Close();
        }
</script>

<h1>Consulta Rutas</h1>


    <div>
        <button ID="btnExecute" runat="server" Text="Get Data" OnClick="Execute_Clicked"> CONSULTAR </button>
        <asp:GridView ID="GridView1" runat="server"></asp:GridView>
    </div>



<!--<table class="table">
    <thead>
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.IdRuta)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.TerminalSalida)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.TerminalLlegada)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.CantidadParadas)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.MontoEstimadoRuta)
            </th>
            <th></th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.IdRuta)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.TerminalSalida)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.TerminalLlegada)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.CantidadParadas)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.MontoEstimadoRuta)
                </td>
            </tr>
        }

    </tbody>
</table>

    -->
